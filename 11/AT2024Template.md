# Техническое задание: Автоматизированная система оповещения населения о чрезвычайных ситуациях «Сигнал»

## Содержание
1. [Введение](#1-введение)
   - [Цели](#цели)
   - [Границы применения](#границы-применения)
   - [Термины и аббревиатуры](#термины-и-аббревиатуры)
   - [Ссылки](#ссылки)
   - [Краткий обзор](#краткий-обзор)
2. [Общее описание](#2-общее-описание)
   - [Описание изделия](#описание-изделия)
   - [Функции изделия](#функции-изделия)
   - [Характеристики пользователей](#характеристики-пользователей)
   - [Ограничения](#ограничения)
   - [Предположения и зависимости](#предположения-и-зависимости)
3. [Детальные требования](#3-детальные-требования)
   - [Функциональные требования](#функциональные-требования)
   - [Надежность](#надежность)
   - [Производительность](#производительность)
   - [Ремонтопригодность](#ремонтопригодность)
   - [Ограничения проекта](#ограничения-проекта)
   - [Требования к пользовательской документации](#требования-к-пользовательской-документации)
   - [Используемые компоненты](#используемые-компоненты)
   - [Интерфейсы](#интерфейсы)
   - [Требования лицензирования](#требования-лицензирования)
   - [Применимые стандарты](#применимые-стандарты)
4. [Индекс](#индекс)

---

## История изменений
| Дата         | Версия | Описание         | Автор(ы)      |
|--------------|--------|------------------|---------------|
| 2025-24-10   | 0.1    | Начальная ревизия. Заполнение главы "Введение" после интервью 18.10.2025 | Баданов, Власова, Зязева, Романов, Шакирова, Якимов |
| 2025-31-10   | 0.2    | Вторая ревизия. Заполнение главы "Общее описание" после интервью 18.10.2025 | Баданов, Власова, Зязева, Романов, Шакирова, Якимов |
| 2025-07-11   | 0.3    | Третья ревизия. Заполнение главы "Детальные требования" после интервью 01.11.2025 | Баданов, Власова, Зязева, Романов, Шакирова, Якимов |
| 2025-20-11   | 0.4    | Четвертая ревизия. Редактирование главы "Детальные требования" после интервью 15.11.2025 | Баданов, Власова, Зязева, Романов, Шакирова, Якимов |
| 2025-28-11   | 0.5    | Пятая ревизия. Изменение задач продукта в  главах "Введение", Общее описание" после интервью 15.11.2025 | Баданов, Власова, Зязева, Романов, Шакирова, Якимов |

---

## 1. Введение
Настоящий документ представляет спецификацию требований к системе массового оповещения, объединяющей функции экстренного информирования населения и коммерческих рассылок. Система позволяет создавать и управлять шаблонами сообщений, таргетировать аудиторию по демографическим, географическим и профессиональным признакам, интегрироваться с внешними SMS-шлюзами и геосервисами, а также вести учет стоимости рассылок с предварительным и финальным расчетом. Спецификация охватывает функциональные и нефункциональные требования, включая безопасность, надежность, масштабируемость, мониторинг и отчетность, обеспечивая единое понимание системы всеми участниками проекта.

### Цель
Цель проекта — создать современную систему массового оповещения, способную обеспечивать экстренное информирование и коммерческие рассылки, предоставляя пользователям и корпоративным клиентам возможности для создания и управления шаблонами, точного таргетинга аудитории, мониторинга эффективности и формирования расчетов стоимости рассылок, при этом обеспечивая надежность, безопасность данных, масштабируемость и удобный личный кабинет для коммерческих клиентов. Документ служит основой для проектирования, разработки и тестирования системы и структурирован в соответствии со стандартом IEEE-830.

### Границы применения
Данный документ распространяется на систему массового оповещения, предназначенную для информирования граждан крупного административного региона. Система обеспечивает управление базой данных абонентов, создание и активацию шаблонов оповещения, геопространственную фильтрацию целевой аудитории и интеграцию с внешней SMS-платформой для доставки сообщений.

Система применяется на территории крупного административного региона (области или города федерального значения) и поддерживает следующие сценарии использования:
- Оповещение по географическому признаку: отправка сообщений всем абонентам в радиусе заданного расстояния от точки события (например, в районе проведения коммерческой акции, концерта или выставки);
- Оповещение по демографическим признакам: информирование целевых групп населения по возрасту и полу (например, оповещение определенной возрастной категории о релевантных мероприятиях или предложениях);
- Оповещение специальных категорий: рассылка для абонентов с определенным профессиональным статусом или интересами;
- Комбинированное оповещение: использование сложных шаблонов с несколькими критериями отбора (географическое положение + возраст + профессиональный статус);
- Управление шаблонами: создание, редактирование, сохранение и повторное использование шаблонов оповещения для типовых маркетинговых и информационных кампаний;
- Мониторинг и отчетность: отслеживание статуса доставки сообщений, формирование отчетов о количестве оповещенных абонентов;
- Личный кабинет коммерческого пользователя: предоставление авторизованного доступа (логин/пароль) для корпоративных клиентов (рекламные агентства, организаторы мероприятий) с функционалом управления рассылками;
- Расчет стоимости рассылки: система отображает предварительную стоимость на основе примерного количества пользователей и тарифа, а после отправки формирует финальный счет по реальному охвату.

### Термины и аббревиатуры
| Термин                        | Определение                                                                  |
|-------------------------------|------------------------------------------------------------------------------|
| Заказчик                      | Субъект, формулирующий бизнес-требования и принимающий результаты работ      |
| Исполнитель                   | Субъект, осуществляющий разработку и поставку программного обеспечения       |
| Абонент                       | Физическое лицо, зарегистрированное в системе с известными параметрами (пол, возраст, местоположение) |
| Оператор                      | Пользователь системы, имеющий права на создание и активацию оповещений       |
| Шаблон оповещения             | Набор критериев и правил для определения целевой аудитории оповещения        |
| Целевая аудитория             | Группа абонентов, соответствующих критериям конкретного шаблона оповещения   |
| Охват аудитории               | Функция системы, определяющая соответствие параметров абонента условиям шаблона |
| Текущее местоположение        | Географические координаты абонента, определенные по последней сотовой вышке  |
| Постоянное место жительства   | Фактический адрес проживания абонента с географической привязкой             |
| Военнообязанный               | Категория абонентов с особым статусом (сотрудники спецслужб, медики МЧС и др.) | 
                                         
| Аббревиатура        | Полное наименование                                                      |
|---------------------|--------------------------------------------------------------------------|
| АРМ                 | Автоматизированное рабочее место оператора                               |
| БД                  | База данных                                                              |
| ГИС                 | Геоинформационная система                                                |
| ПО                  | Программное обеспечение                                                  |
| СМС / SMS           | Служба коротких сообщений (Short Message Service)                        |
| ЧС                  | Чрезвычайная ситуация                                                    |
| ТЗ                  | Tехническое задание                                                      |
| SRS                 | Software Requirements Specification - спецификация требований к программному обеспечению |

### Ссылки
| Обозначение | Расшифровка           |
|-------------|-----------------------|
| [IEEE-830]  | IEEE Std 830-1998      |

### Краткий обзор

**Раздел 1. Введение** — общая информация о документе, его целях, области применения, используемых терминах и структуре.  

**Раздел 2. Общее описание** — обзор системы массового оповещения, её функций, характеристик пользователей (операторов), общих ограничений и предположений.  

**Раздел 3. Детальные требования** — подробное описание функциональных и нефункциональных требований к системе.  

**Раздел 4. Индекс** — алфавитный указатель терминов и понятий.  


---

## 2. Общее описание

### Описание изделия
- **Интерфейсы системы**: система представляет собой веб-приложение, доступное через браузер. Оператор/коммерческий пользователь через интерфейс может создавать и настраивать шаблоны информационных и рекламных сообщений, выбирать зоны на карте и формировать рассылки. Взаимодействие с внешней системой осуществляется через интеграционный интерфейс для отправки SMS выбранным абонентам.

- **Интерфейсы пользователя**: интерфейс системы дает пользователю (оператору или коммерческому клиенту) простую и удобную панель управления с интерактивной картой. С её помощью можно легко создавать геозоны и целевые аудитории. Есть конструктор шаблонов, который позволяет гибко настраивать правила рассылок по разным параметрам, таким как демография, местоположение и специальность. В интерфейсе есть библиотека готовых шаблонов, история рассылок с подробной статистикой и данными о стоимости, и он работает на любых устройствах. Для пользователей предоставляется персональный личный кабинет.

- **Интерфейсы аппаратных средств ЭВМ**: доступ к вычислительной системе обеспечивается через широко распространенные клиентские устройства, такие как настольные компьютеры, планшеты и смартфоны, с использованием современных веб-браузеров в качестве унифицированного интерфейса.

- **Интерфейсы программного обеспечения**:
  1. Данные и сервисы:
     - Картографические сервисы (Яндекс.Карты, 2GIS),
     - Сервис геокодирования (REST API),
     - Система аналитики (REST API).  

  2. Коммуникационные каналы
     - Push-уведомления (FCM/APNS),  
     - SMS-шлюз (SMPP),  
     - Почтовый сервер (SMTP).  

  3. Вспомогательные системы:
     - Платформа приема платежей (REST API для генерации счетов),
     - Госуслуги (OAuth 2.0 для аутентификации),
     - Система просмотра документов (PDF, Word, изображения). 

  4. Обратная связь
     - Система приема обращений (REST API),
     -  Сервис видеозвонков (WebRTC).  


- **Интерфейсы коммуникаций**: для взаимодействия клиента с сервером используется протокол HTTP/HTTPS. Обмен данными с внешней системой оповещения осуществляется по API-интерфейсу с использованием защищенных REST-запросов. Передача SMS-сообщений выполняется через интеграционный шлюз внешнего оператора.

- **Ограничения памяти**: <= 1000 шаблонов.

- **Действия**: формирование и корректировка шаблонов уведомлений с возможностью настройки географических областей. Выбор шаблона, просмотр предварительной стоимости рассылки, активация рассылки, ввод текста сообщения и подтверждение отправки. Отслеживание статуса доставки уведомлений, просмотр истории рассылок и финальных счетов на оплату.


### Функции изделия

**1. Управление шаблонами оповещений (для экстренных и коммерческих сообщений)**  
- Создание и редактирование шаблонов как для ЧС, так и для коммерческих рассылок (акции, мероприятия, события).  
- Настройка гибких условий: текст сообщения, дата и время, параметры доставки.  
- Поддержка географических зон (окружность, произвольный полигон, область вокруг сотовой вышки).  
- Настройка демографических и профессиональных фильтров (пол, возраст, категории граждан).  
- Хранение библиотеки сохранённых шаблонов, разделённых на категории: «Экстренные», «Коммерческие».  
- Предпросмотр потенциальной аудитории перед запуском рассылки.

**2. Управление аудиторией и данными абонентов**  
- Интеграция с операторами связи для получения обновлённых данных об абонентах (возраст, пол, место жительства).  
- Использование текущего местоположения абонентов на основе данных сотовых вышек.  
- Ведение реестров специальных категорий граждан (военнообязанные, медики, сотрудники служб).  
- Актуализация данных в режиме, близком к реальному времени, для повышения точности коммерческих кампаний.  
- Поддержка сегментации аудитории для рекламных рассылок (например, жители района, целевая возрастная группа).

**3. Процесс создания и отправки оповещений**  
- Выбор существующего шаблона или создание нового сообщения (экстренного или коммерческого).  
- Подтверждение рассылки оператором или коммерческим клиентом (в личном кабинете).  
- Мгновенная отправка SMS целевой аудитории по рассчитанным критериям.  
- Передача данных об отправке на сторону оператора связи для фактической доставки.  
- Формирование предварительного расчёта стоимости рассылки (для коммерческих клиентов).  
- После завершения — автоматический пересчёт по фактическому охвату и формирование итогового счёта.

**4. Мониторинг, аналитика и отчётность**  
- Отображение статуса рассылки в реальном времени: *Инициировано → Отправляется → Завершено*.  
- Статистика по охвату:  
  - предполагаемому (до отправки),  
  - фактическому (после отправки).  
- Ведение журнала всех отправленных оповещений: время, параметры, автор, тип (экстренное/коммерческое).  
- Формирование отчётов о работе системы за период (для госорганов).  
- Для коммерческих клиентов — отчёты по эффективности кампаний и истории платежей.

**5. Управление доступом, ролями и безопасностью**  
- Авторизация и аутентификация:  
  - операторы госслужб,  
  - администраторы,  
  - коммерческие клиенты (через личный кабинет).  
- Разграничение прав доступа: создание шаблонов, просмотр статистики, запуск рассылки, управление оплатами.  
- Логирование действий пользователей (кто, когда и какую рассылку создал/запустил).  
- Защита персональных данных абонентов и соответствие требованиям безопасности.

**6. Визуализация и интерфейс пользователя**  
- Отображение карты с зонами оповещения и выбранными географическими фильтрами.  
- Графическое редактирование зон рассылки (точки, радиусы, полигоны).  
- Визуализация плотности аудитории и потенциального охвата.  
- Удобный интерфейс для быстрого создания коммерческих кампаний и экстренных уведомлений.  
- Для коммерческих клиентов — отдельный раздел «Личный кабинет» с:  
  - управлением рассылками,  
  - историей платежей,  
  - предварительными и финальными счетами.

**7. Поддержка коммерческой монетизации (новый функционал)**  
- Расчёт стоимости рассылки на основе числа потенциальных получателей.  
- Предварительный расчёт (до отправки) → отображение суммы к оплате.  
- Финальный расчёт (после отправки) → формирование счёта на реальный охват.  
- Хранение истории расчётов и счетов.  
- Отсутствие встроенных платежей — интеграция только на уровне формирования счета.


### Характеристики пользователей

**1. Оператор оповещений**  
- **Описание:** Сотрудник экстренной службы (МЧС, полиция, городская администрация), инициирующий массовое оповещение населения или специальных групп.  
- **Навыки:** Базовые навыки работы с компьютером и веб-приложениями. Понимание географических принципов (радиус, точка на карте).  
- **Функции:**
  - Активация готовых шаблонов оповещений (например, "аномальная жара для лиц старше 50").  
  - Создание и настройка новых шаблонов под конкретную ситуацию (определение географической зоны, демографических и профессиональных критериев).  
  - Запуск процесса отправки SMS-сообщений.  
  - Просмотр отчетов о доставке сообщений и охвате аудитории.

**2. Администратор системы**  
- **Описание:** IT-специалист, отвечающий за функционирование и целостность системы оповещений.  
- **Навыки:** Глубокие технические навыки в области администрирования систем, работы с базами данных и сетевой безопасности.  
- **Функции:**
  - Управление учетными записями пользователей (добавление, удаление, блокировка).  
  - Назначение ролей и прав доступа (например, кто может создавать шаблоны, а кто — только активировать готовые).  
  - Настройка интеграции с внешними системами (сотовые операторы, геолокационные сервисы).  
  - Контроль системных параметров и производительности.  
  - Мониторинг состояния системы и журналов рассылок.

**3. Коммерческий клиент (новая роль)**  
- **Описание:** Рекламное агентство, организатор мероприятий или любой корпоративный пользователь, использующий систему для рассылки коммерческих сообщений.  
- **Навыки:** Уверенное владение веб-приложениями, базовые навыки работы с отчетами и аналитикой.  
- **Функции:**
  - Создание и редактирование шаблонов рассылок.  
  - Настройка целевой аудитории по категориям, геолокации и интересам.  
  - Просмотр предварительного охвата аудитории.  
  - Получение предварительных и финальных счетов за рассылки.  
  - Управление аккаунтами сотрудников внутри компании (разные уровни доступа: создание шаблонов, подтверждение рассылки, просмотр отчетов).  
  - Просмотр истории отправок и отчетов по эффективности кампаний.

**4. Конечный абонент**  
- **Описание:** Физическое лицо — житель региона, являющийся абонентом системы и получателем оповещений. Не использует интерфейс системы, но является бенефициаром.  
- **Функции / Характеристики:**  
  - Демография: пол, возраст.  
  - География: постоянное место жительства, текущее местоположение (на основе данных сотовой связи).  
  - Профессиональный статус: принадлежность к специальным группам (военнообязанные, медики, сотрудники спецслужб).  
  - Предпочтения и история взаимодействия с рекламными рассылками (для корректировки коммерческих кампаний, опционально).  

**5. Служба поддержки и аналитики (новые вспомогательные роли)**  
- **Техническая поддержка:** Помогает клиентам решать проблемы с личным кабинетом и рассылками.  
- **Аналитики:** Обрабатывают агрегированные данные по кампаниям, предоставляют рекомендации для повышения эффективности рассылок.

**6. Сценарии взаимодействия с системой**  
- Создание шаблона → Настройка аудитории → Просмотр предварительного охвата → Подтверждение отправки → Формирование счета → Отправка рассылки → Просмотр финального отчета.


### Ограничения
- Система должна работать на современных веб-браузерах (Chrome, Firefox, Safari, Edge последних версий) на настольных компьютерах, планшетах и смартфонах.
- Для корректной работы требуется стабильное интернет-соединение.
- Максимальное количество одновременно обрабатываемых шаблонов и оповещений определяется ресурсами сервера.
- Передача SMS-сообщений зависит от внешнего интеграционного шлюза и пропускной способности оператора связи.
- Максимальный радиус геозоны для оповещений ограничен техническими возможностями картографического сервиса.
- Система должна обеспечивать конфиденциальность персональных данных абонентов согласно действующему законодательству.
- История рассылок и журнал действий операторов хранятся не менее 5 лет (возраст определен приблизительно, подлежит выяснению) .
- Ограничения по объему данных на абонента зависят от формата хранения и объема геолокационных и демографических данных.


### Предположения и зависимости
**Допущения (Assumptions)**    
Это условия, которые мы считаем истинными, но которые находятся вне нашего прямого контроля: 

1. Инфраструктурные:
   - Сеть: Предполагается, что у пользователей будет периодический доступ к интернету (хотя бы для получения push-уведомлений).
   - Энергия: Пользователи имеют возможность заряжать свои устройства.
   - Аппаратное обеспечение: Устройства пользователей поддерживают необходимые технологии (GPS, современные ОС).

2. Информационные:
   - Качество данных: Предполагается, что данные от внешних систем (ЦУКС, Гидрометцентр) являются достоверными, актуальными и поступают без критических задержек.
   - Формат данных: Внешние системы предоставляют данные в согласованном и стабильном формате (JSON/XML), описанном в их API.

3. Пользовательские:
   - Поведение: Пользователи дадут необходимые разрешения на геолокацию и push-уведомления при первом запуске.
   - Доверие: Сообщения от приложения МЧС будут восприниматься как официальные и авторитетные.

4. Операционные:
   - Модерация: Контент, создаваемый пользователями (фото, сообщения), будет проверяться и обрабатываться вручную или автоматически в разумные сроки.


**Зависимости (Dependencies)**  
Это внешние компоненты, сервисы или условия, без которых наше приложение не сможет функционировать полностью или частично:

1. Критические (Блокирующие работу):
   - Серверы ЦУКС: Доступность и стабильность API системы оповещения. Без них приложение теряет основной смысл.
   - Сервисы push-уведомлений (FCM/APNS): Доступность серверов Google и Apple. Без них мгновенные оповещения невозможны.
   - Серверы аутентификации: Работоспособность портала «Госуслуги» (если используется для входа).

2. Важные (Серьезно ухудшают функциональность):
   - Картографические сервисы (Яндекс.Карты/2GIS): При их недоступности карты и геоданные не будут загружаться.
   - SMS-шлюз: Резервный канал связи отключается при сбое у провайдера.
   - Сервисы геокодирования: При их недоступности преобразование координат в адрес и обратно будет невозможно.

3. Внутренние/Технические:
   - Собственная бэкенд-инфраструктура: Базы данных, серверы приложений, балансировщики нагрузки.
   - Сторонние библиотеки и фреймворки: Используемые в разработке компоненты с открытым исходным кодом (их безопасность и поддержка).
   - Команда разработки и поддержки: Наличие квалифицированных специалистов для исправления сбоев и обновления приложения.

---

## 3. Детальные требования

### Функциональные требования  

#### Атрибуты функциональных требований

Каждое требование обладает следующими атрибутами:  

- **ID** — уникальный идентификатор требования  
- **Наименование** — краткое описание требования  
- **Важность** —  
  - **M** — обязательное  
  - **S** — желательное  
  - **C** — возможное  
- **Стабильность** —  
  - **S** — стабильное  
  - **M** — модифицируемое  
  - **D** — динамичное  

##### 3.1.1.1. Полная схема идентификаторов

| Префикс | Расшифровка                  | Роль                        |
|---------|------------------------------|-----------------------------|
| F-OP-   | Functional – Operator        | Оператор оповещений         |
| F-AD-   | Functional – Administrator   | Администратор системы       |
| F-CL-   | Functional – Client          | Коммерческий клиент         |
| F-SY-   | Functional – System          | Системные функции           |
| SE-     | Security                     | Безопасность                |
| P-      | Performance                  | Производительность          |


#### 3.1.2. Требования для роли «Оператор»

| ID       | Наименование                  | Важность | Стабильность | Описание |
|----------|-------------------------------|----------|--------------|----------|
| F-OP-001 | Создание шаблона оповещения   | M        | S            | Оператор может создать новый шаблон рассылки, задав его название и критерии целевой аудитории. |
| F-OP-002 | Выбор географической зоны     | M        | S            | Задание зоны оповещения на карте: круг заданного радиуса или произвольный полигон. |
| F-OP-003 | Настройка демографических фильтров | M  | S            | Фильтрация аудитории по возрасту и полу. |
| F-OP-004 | Настройка профессиональных фильтров | M  | S            | Выбор специальных групп (медики, военнообязанные и т.д.). |
| F-OP-005 | Создание текста сообщения     | M        | S            | Ввод и редактирование текста SMS-сообщения. |
| F-OP-006 | Предварительный просмотр аудитории | S  | S            | Расчетное количество абонентов, соответствующих критериям шаблона. |
| F-OP-007 | Активация готового шаблона   | M        | S            | Запуск на отправку одного из сохраненных шаблонов. |
| F-OP-008 | Запуск процесса отправки      | M        | S            | Инициирование массовой рассылки после подтверждения оператором. |
| F-OP-009 | Просмотр журнала рассылок     | S        | S            | Доступ к истории всех отправленных оповещений с базовой информацией (дата, шаблон, охват). |


#### 3.1.3. Требования для роли «Администратор»

| ID       | Наименование                  | Важность | Стабильность | Описание |
|----------|-------------------------------|----------|--------------|----------|
| F-AD-001 | Управление учетными записями  | M        | S            | Создание, редактирование и блокировка учетных записей пользователей. |
| F-AD-002 | Назначение ролей и прав       | M        | S            | Назначение ролей ("Оператор", "Администратор") и управление правами. |
| F-AD-003 | Управление справочниками      | M        | M            | Ведение справочника специальных групп (медики, военнообязанные и т.д.). |
| F-AD-004 | Настройка интеграций          | M        | M            | Управление интеграцией с внешними системами (API операторов, геосервисы). |
| F-AD-005 | Просмотр системной статистики | S        | M            | Доступ к отчетам: нагрузка, количество отправленных сообщений, ошибки. |
| F-AD-006 | Мониторинг состояния системы  | S        | M            | Проверка статуса подключения к ключевым внешним сервисам. |


#### 3.1.4. Системные функциональные требования


| ID        | Наименование                     | Важность | Стабильность | Описание |
|-----------|----------------------------------|----------|--------------|----------|
| FR-SY-001 | Поддержка ролей пользователей     | M        | S            | Поддержка ролей: Оператор, Администратор. |
| FR-SY-002 | Аутентификация пользователей     | M        | S            | Вход через логин и пароль, интеграция с корпоративной авторизацией. |
| FR-SY-003 | Разграничение прав доступа       | M        | S            | Доступ к функциям по ролям. |
| FR-SY-004 | Хранение сообщений и журналов    | M        | S            | Все шаблоны, рассылки и журналы сохраняются в базе данных. |
| FR-SY-005 | Интеграция с SMS-шлюзом         | M        | S            | Возможность отправки массовых SMS через внешние провайдеры. |
| FR-SY-006 | Интеграция с геосервисами       | S        | M            | Использование карт и полигонов для выбора зон оповещения. |
| FR-SY-007 | Логирование событий              | M        | S            | Автоматическая запись всех действий операторов и системы. |
| FR-SY-008 | Отчётность                       | S        | M            | Генерация отчетов о количестве отправленных и доставленных сообщений. |
| FR-SY-009 | Резервные каналы                 | S        | M            | Дублирование рассылок через SMS при недоступности интернет-соединения. |
| FR-SY-010 | Расчет целевой аудитории         | M        | S            | Вычисление списка абонентов по критериям шаблона (геолокация, демография, профиль). |
| FR-SY-011 | Интеграция с данными локации     | M        | S            | Получение актуальных данных о местоположении абонентов от интегрированных сервисов. |
| FR-SY-012 | Отправка SMS через шлюзы         | M        | S            | Передача пакетов SMS на шлюзы операторов для доставки. |
| FR-SY-013 | Ведение журнала рассылок         | M        | S            | Фиксация всех действий по рассылкам: кто, когда, шаблон, расчетный и фактический охват. |
| FR-SY-014 | Хранение и управление шаблонами  | M        | S            | Сохранение, редактирование и повторное использование шаблонов. |
| FR-SY-015 | Контроль дублирования отправки   | S        | M            | Предотвращение повторной отправки идентичного сообщения одной и той же аудитории. |
| FR-SY-016 | Автоматическая проверка лимитов  | S        | M            | Расчет стоимости для коммерческих клиентов. |
| FR-SY-017 | Формирование счетов              | S        | D            | Генерация счетов для коммерческих клиентов (функция для будущего расширения). |


### Надежность
- **Доступность**: 99.50%
- **MTBF**: не менее 720 часов.
- **MTTR**: не более 1 часа для критических сбоев.
- **Точность**: В пределах зоны покрытия сотовой вышки.
- **Макс. количество ошибок**:   
    - Недопустима отправка сообщений без команды оператора;  
    - Потерянных сообщений должно быть не более 0.1%


### Производительность
- **Время отклика**:   
    - Push-уведомление: ≤ 3 сек. (цель — 1.5 сек.);   
    - Загрузка приложения (холодный старт): ≤ 2 сек;    
    - Запрос данных (тревоги, карта): ≤ 1-2 сек;    
    - Отправка сигнала ("Я в безопасности"): ≤ 1 сек.


- **Пропускная способность**:   
    - Рассылка уведомлений: ≥ 100 000 сообщений/сек;   
    - Обработка запросов (RPS): ≥ 10 000 RPS (пиковая до 50 000 RPS);    
    - Одновременные подключения: ≥ 300 000 пользователей.


- **Утилизация ресурсов**:   
    - Сервер (CPU): ≤ 70% при пиковой нагрузке;   
    - Сервер (Память): ≤ 80% от RAM;   
    - Потребление трафика: ≤ 1-2 МБ/час активного использования;    
    - Потребление батареи (фоновый режим): ≤ 1-2%/час.


### Ремонтопригодность

1. **Модульная архитектура (микросервисы)**  
   - Система разделена на независимые модули: работа с картами, фильтрация аудитории, формирование сообщений, интеграция с SMS-шлюзами.  
   - Сбой одного модуля не блокирует работу других. Например, если модуль карт недоступен, рассылка уведомлений может продолжаться.  
   - Упрощает замену или обновление отдельных компонентов без остановки всей системы.  

2. **Централизованное логирование и мониторинг**  
   - Все действия операторов и системные процессы фиксируются в единой системе логирования.  
   - Мониторинг позволяет отслеживать доступность внешних сервисов (SMS-шлюзы, push-сервисы, геосервисы) в режиме реального времени.  
   - Позволяет быстро выявлять сбои, определять причину и локализовать проблемный компонент для оперативного устранения.  

3. **Подробная документация**  
   - Включает описание архитектуры, модулей, API, схем интеграции и бизнес-процессов.  
   - Облегчает подключение новых разработчиков, инженеров поддержки и системных администраторов.  
   - Сокращает время на поиск информации при устранении неполадок и внедрении изменений.  

4. **Автоматизированное тестирование и развертывание (CI/CD)**  
   - Все изменения проходят автоматизированное тестирование, включая юнит-тесты, интеграционные и нагрузочные тесты.  
   - CI/CD обеспечивает быструю доставку исправлений и новых функций без риска остановки критических процессов.  
   - Минимизирует вероятность возникновения ошибок при обновлениях и ускоряет выпуск патчей для устранения неполадок.  

### Ограничения проекта

1. **Зависимость от подключения к сети**  
   - Для работы системы требуется стабильный интернет (Wi-Fi или мобильная сеть).  
   - При отсутствии соединения функциональность ограничена: невозможно рассчитать целевую аудиторию или отправить уведомления.  

2. **Зависимость от серверов провайдера**  
   - Сбой на стороне серверов оператора или облачного провайдера делает невозможной доставку сообщений.  
   - Система сохраняет задания на отправку, но доставка будет отложена до восстановления соединения.  

3. **Зависимость от сервисов push-уведомлений (Google/Apple)**  
   - Система использует FCM для Android и APNs для iOS.  
   - Любые проблемы на стороне этих сервисов (сбой, задержка, ограничения) могут привести к задержке уведомлений.  

4. **Ограничения мобильных устройств**  
   - Устройства с низким зарядом батареи могут не получить уведомления вовремя.  
   - Недостаток свободной памяти или отключенные фоновые процессы могут блокировать получение сообщений.  
   - Старые или устаревшие версии ОС могут некорректно обрабатывать push-уведомления.  

5. **Ограничения операционных систем**  
   - iOS и Android накладывают ограничения на фоновую работу приложений.  
   - Для экономии заряда и ресурсов ОС могут задерживать или блокировать уведомления, особенно при длительном неиспользовании приложения.  
   - Ограничения могут меняться с обновлениями ОС, что требует регулярного мониторинга и адаптации системы.  


### Требования к пользовательской документации    
1. **Охват ключевых сценариев**:   
    - Установка и настройка (включение уведомлений, выбор региона);  
    - Чтение оповещений и действий при разных типах ЧС;    
    - Отправка сигналов "Я в безопасности" и запроса помощи;   
    - Использование офлайн-режима (если предусмотрено).

2. **Многоформатность**:    
    - Наличие онлайн-справки в приложении, интерактивного руководства;   
    - Короткая памятка (PDF, буклет) для быстрого ознакомления.

3. **Актуальность**:   
    - Документация должна оперативно обновляться при выходе новых версий приложения.


### Используемые компоненты   
- **Сторонние программные компоненты**:   
    - PostgreSQL + PostGIS (система управления базами данных с геопространственными функциями);   
    - Redis (кэширование и обработка очередей сообщений);   
    - RabbitMQ (управление очередями отправки SMS);   
    - Nginx (веб-сервер и балансировщик нагрузки).

- **Внешние сервисы и API**:    
    - SMS-шлюз оператора связи (для массовой рассылки сообщений); 
    - Геоинформационная система (для работы с картами и полигонами); 
    - Система аутентификации и авторизации.

- **Инфраструктурные компоненты**:   
    - Виртуальные машины (вычислительные мощности);   
    - Объектное хранилище (для резервных копий и медиафайлов);  
    - Система мониторинга (Zabbix/Prometheus);
    - Средства резервного копирования;
    - Виртуальные машины (вычислительные мощности);
    - Объектное хранилище (для резервных копий и медиафайлов);
    - Система мониторинга (Zabbix/Prometheus);
    - Средства резервного копирования.

- **Библиотеки и фреймворки**:
    - Веб-фреймворк (Django/Spring Boot);
    - Геospatial библиотеки (GDAL, GEOS);
    - Frontend-фреймворк (React/Vue.js);
    - Библиотеки для работы с картами (Leaflet/OpenLayers)

### Интерфейсы
- **Интерфейс пользователя**:

| Раздел интерфейса          | Описание функциональности |
|----------------------------|---------------------------|
| **Экран кампаний**         | Отображение списка активных, завершённых и планируемых рассылок. Указание статуса, времени запуска, охвата аудитории, приоритетности. Возможность сортировки и поиска по названию или дате. |
| **Подробный просмотр кампании** | Детальная информация по выбранной кампании: сообщение, зона охвата, статистика отправки, ошибки доставки, журнал активности операторов. |
| **Карта**                  | Интерактивная карта с визуализацией геозон таргетинга и точек интереса (магазины, стадионы, места мероприятий, критическая инфраструктура). Возможность масштабирования, переключения слоёв, отображения плотности аудитории. |
| **Конструктор рассылки**  | Создание и редактирование рекламных сообщений. Предпросмотр push/SMS. Выбор шаблона, настройка текста, изображений и параметров доставки. |
| **Выбор геозоны**         | Инструменты выделения области: круг, прямоугольник, произвольная фигура. Отображение оценочного количества людей в зоне. |
| **Фильтры аудитории**     | Настройка параметров ЦА: возраст, пол, категория (медики, сотрудники МЧС, студенты и др.), поведенческие признаки из CRM. |
| **Раздел с отчётностью**  | Статистика по доставке, открытию и кликам. Графики в реальном времени. Экспорт отчётов (Excel, PDF). |
| **Журнал событий**        | Хронология действий операторов: кто создал кампанию, кто подтвердил, какие изменения вносились, результаты отправки. |
| **Раздел уведомлений**    | Push-уведомления внутри приложения о статусах кампаний, ошибках доставки, необходимости подтверждения. |
| **Настройки системы**     | Выбор языка, часового пояса, настроек интеграций (CRM, картографические сервисы, SMS-шлюз). Настройка ролей пользователей. |
| **Управление пользователями** | Создание операторов и администраторов. Присвоение ролей, сброс паролей, двухфакторная аутентификация. |
| **Экран шаблонов сообщений** | Хранилище шаблонов: создание, редактирование, группировка по категориям, быстрый выбор при создании кампании. |
| **Экран уведомлений пользователей** | Управление push и SMS-уведомлениями, настройка типа предупреждений (обычные, важные, экстренные). |

  
- **Аппаратные интерфейсы**:

| Аппаратный интерфейс       | Назначение и функциональность |
|----------------------------|-------------------------------|
| **Геолокация (GPS)**       | Определение точного местоположения пользователя для геотаргетинга, расчёта его попадания в выбранную зону рассылки. Используется для построения маршрутов, определения плотности аудитории и анализа перемещений. |
| **Акселерометр / Гироскоп** | Сбор обезличенной информации об активности пользователей: движение, нахождение в толпе, изменение ориентации устройства. Может использоваться для анализа поведения аудитории в рамках кампаний. |
| **Вибромотор**             | Тактильное оповещение о получении важного рекламного сообщения или системного уведомления. Поддержка различных паттернов вибрации для разных типов оповещений. |
| **Датчик приближения**     | Отключение экрана при поднятии телефона к уху (актуально для голосовых уведомлений). Возможна реализация специальных сценариев получения сообщений. |
| **Датчик освещённости**    | Автоматическая адаптация яркости интерфейса при отображении важных уведомлений (ночной режим, повышенная читаемость). |
| **Bluetooth**              | Локальное определение устройств в зоне действия BLE-маяков (например, на мероприятиях). Используется для гиперточного таргетинга. |
| **NFC**                     | Возможность получения персонализированной информации при взаимодействии с NFC-метками (в магазинах, на точках продаж, выставках). |
| **Модуль связи (LTE/5G)**  | Используется при отправке SMS, push и резервных каналов связи. Обеспечивает стабильное получение уведомлений при плохом интернете. |


- **Программные интерфейсы**:

| Программный интерфейс                | Назначение и функциональность |
|--------------------------------------|-------------------------------|
| **Интеграция с CRM-системами**       | Получение данных о клиентах, сегментах аудитории, принадлежности к группам (медики, студенты, сотрудники служб). Синхронизация профилей, выгрузка фильтров и тегов. Поддержка REST / SOAP API. |
| **Интеграция с аналитическими платформами** | Получение данных о поведении пользователей: история активности, геоповедение, предпочтения, плотность аудитории. Поддержка Big Data-платформ (DWH, CDP). |
| **Интеграция с картографическими сервисами (Google Maps, Яндекс.Карты, OpenStreetMap)** | Отображение карт, построение геозон, работа со слоями (трафик, POI), расчёт расстояний, геокодирование и обратное геокодирование. |
| **API push-уведомлений (FCM, APNs)** | Доставка push-сообщений на мобильные устройства, получение статусов доставки, управление приоритетами и каналами уведомлений. |
| **SMPP или REST API SMS-шлюза**      | Отправка SMS, получение статус-репортов, обработка ошибок отправки, резервная отправка при падении интернета. |
| **Интеграция с системами аутентификации (OAuth 2.0, SSO)** | Централизованная авторизация пользователей (операторов, администраторов). Поддержка корпоративной доменной авторизации. |
| **Интеграция с базами данных (PostgreSQL / MySQL / ClickHouse)** | Хранение профилей получателей, истории рассылок, шаблонов сообщений и статистики. Поддержка горизонтального масштабирования. |
| **Интеграция с системами мониторинга (Prometheus / Grafana)** | Получение метрик системы, мониторинг нагрузок, отправка alert-уведомлений администраторам. |
| **Интеграция с системами журналирования (ELK, Graylog)** | Централизованный сбор логов, аудит действий операторов, контроль безопасности, анализ инцидентов. |


- **Интерфейсы коммуникаций**:

| Интерфейс коммуникации        | Назначение и функциональность |
|-------------------------------|-------------------------------|
| **Push-уведомления (FCM, APNs)** | Доставка уведомлений на мобильные устройства через сервисы Google и Apple. Поддержка приоритетов, каналов важности, вложений, звуковых и тактильных сигналов. Получение статусов доставки. |
| **Сотовые сети (2G/3G/4G/5G)** | Основной транспорт для доставки SMS и данных. Используется при отсутствии Wi-Fi. Обеспечивает передачу служебной информации о статусе сообщений. |
| **Резервные каналы (SMS-шлюз)** | Автоматическое переключение на SMS при недоступности интернета или push-сервисов. Использование SMPP/HTTP API для массовой отправки. Поддержка отчётов о доставке. |
| **Email-канал (при необходимости)** | Дополнительный канал для рассылки уведомлений администраторам и операторам. Может использоваться для подтверждений, отчётов, системных предупреждений. |
| **Webhook-интерфейсы**         | Передача информации о событиях системы во внешние сервисы: CRM, аналитика, системы мониторинга. Используется для двусторонней интеграции. |
| **Внутренние корпоративные каналы** | Интеграция с мессенджерами типа MS Teams, Slack, Telegram (ограниченно) для получения уведомлений администраторами. |
| **MQTT / AMQP (по необходимости)** | Каналы обмена событиями в реальном времени между внешними системами и нашим сервером (расширяемые сценарии, IoT-интеграции). |
| **HTTP/HTTPS API**             | Основной протокол взаимодействия между клиентским приложением и сервером. Обеспечивает передачу данных пользователей, статусов, аналитики. |


### Требования лицензирования
- Использование открытого (open-source) программного обеспечения с разрешающими лицензиями (Apache 2.0, MIT, BSD).
- Коммерческие лицензии для критических компонентов (например, SMS-шлюз, коммерческие библиотеки GIS).
- Запрет на использование программного обеспечения с ограничивающими лицензиями (GPL) в ядре системы.
- Все лицензии должны быть проверены и соответствовать корпоративной политике безопасности.
- Лицензирование должно предусматривать возможность развертывания в облачной среде РФ.


### Применимые стандарты  
- ГОСТ Р 56999-2022: Защита информации. Безопасность информационных технологий.
- ГОСТ Р ИСО/МЭК 27001: Требования к системам менеджмента информационной безопасности.
- Федеральный закон № 152-ФЗ: О персональных данных.
- Федеральный закон № 187-ФЗ: О безопасности критической информационной инфраструктуры.
- Стандарты связи 3GPP: Для интеграции с сотовыми сетями.
- RFC 5724: SMPP (Short Message Peer-to-Peer) Protocol для SMS-рассылки.


---

# Индекс
[Индекс.]

# Содержание

1. [Введение](#1-введение)
    - [Цели](#цели)
    - [Границы применения](#границы-применения)
    - [Термины и аббревиатуры](#термины-и-аббревиатуры)
    - [Ссылки](#ссылки)
    - [Краткий обзор](#краткий-обзор)
2. [Общее описание](#2-общее-описание)
    - [Описание изделия](#описание-изделия)
    - [Функции изделия](#функции-изделия)
    - [Характеристики пользователей](#характеристики-пользователей)
    - [Ограничения](#ограничения)
    - [Предположения и зависимости](#предположения-и-зависимости)
3. [Детальные требования](#3-детальные-требования)
    - [Функциональные требования](#функциональные-требования)
    - [Надежность](#надежность)
    - [Производительность](#производительность)
    - [Ремонтопригодность](#ремонтопригодность)
    - [Ограничения проекта](#ограничения-проекта)
    - [Требования к пользовательской документации](#требования-к-пользовательской-документации)
    - [Используемые компоненты](#используемые-компоненты)
    - [Интерфейсы](#интерфейсы)
    - [Требования лицензирования](#требования-лицензирования)
    - [Применимые стандарты](#применимые-стандарты)
4. [Индекс](#индекс)

---
# История изменений

| Дата       | Версия | Описание                                                | Автор(ы)                                                                                                                                                           |
| ---------- | ------ | ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 2025-10-30 | 0.1    | Начальная ревизия.                                      | Карпич Иван Валерьевич, Вдовин Артемий Николаевич, Камалетдинов Рамзан Рамилевич, Горячев Василий Романович, Дергунов Сергей Антонович, Перяшкин Василий Андреевич |
| 2025-11-10 | 0.2    | Уточнение функциональных и нефункциональных требований. | Карпич Иван Валерьевич, Вдовин Артемий Николаевич, Камалетдинов Рамзан Рамилевич, Горячев Василий Романович, Дергунов Сергей Антонович, Перяшкин Василий Андреевич |
| 2025-11-25 | 0.3    | Расширение предметной области.                          | Карпич Иван Валерьевич, Вдовин Артемий Николаевич, Камалетдинов Рамзан Рамилевич, Горячев Василий Романович, Дергунов Сергей Антонович, Перяшкин Василий Андреевич |

---

# 1. Введение

Данный документ представляет собой спецификацию требований к программному обеспечению (SRS) для системы мониторинга эффективности городских грузовых перевозок, а также подсистемы грузового такси для физических лиц. Документ включает описание функциональных и нефункциональных требований, границ применения, терминологии, а также обзор архитектурных и эксплуатационных особенностей системы.

## Цели

Целью настоящего документа является формирование полного, точного и согласованного набора требований к системе мониторинга городских грузоперевозок и подсистеме грузового такси для физических лиц, предназначенных для оценки эффективности работы водителей, обеспечения прозрачности выполнения заказов и предоставления клиентам актуальной информации о передвижении автомобилей.

## Границы применения

Документ распространяется на систему, обеспечивающую сбор, передачу, обработку и визуализацию телеметрических данных, поступающих с датчиков, установленных на грузовых автомобилях. Система предназначена для использования транспортными компаниями и службами грузового такси, работающими в пределах одного города, и реализует два взаимосвязанных направления:

- мониторинг эффективности городских грузоперевозок для корпоративных клиентов (B2B-сценарий);
- обслуживание заказов на грузовое такси для физических лиц с возможностью онлайн-отслеживания (B2C-сценарий).

В части мониторинга корпоративных грузоперевозок система обеспечивает:

- приём и хранение данных о скорости и координатах, измеряемых бортовыми устройствами каждые 20 секунд;
- обработку агрегированных данных, передаваемых с бортовых устройств один раз в час;
- вычисление средней скорости движения на выбранном отрезке, заказе или маршруте;
- выявление участков превышения скорости относительно цифровой карты ограничений;
- анализ отклонений фактического маршрута от планового маршрута;
- визуализацию результатов анализа на карте и в виде отчетных материалов.

В части обслуживания грузового такси для физических лиц система дополнительно обеспечивает:

- приём и обработку заказов на грузовое такси от клиентов через мобильное приложение;
- подбор наиболее близкого подходящего автомобиля к месту подачи с учётом его текущего местоположения и статуса;
- приём телеметрических данных от автомобилей грузового такси с высокой частотой (не реже одного раза в минуту, при наличии технической возможности — чаще) для отслеживания их положения в режиме, близком к реальному времени;
- расчёт и актуализацию прогнозного времени прибытия автомобиля (ETA) к месту подачи и к месту выгрузки груза;
- отображение в мобильном приложении клиента статуса заказа, текущего положения автомобиля и прогнозного времени прибытия.

Документ не описывает оборудование датчиков, сетевую инфраструктуру передачи данных или внутренние алгоритмы навигационных систем, работающих вне рамок серверного ПО.

## Термины и аббревиатуры

| Термин/Аббревиатура             | Определение                                                                                       |
| ------------------------------- | ------------------------------------------------------------------------------------------------- |
| SRS                             | Software Requirements Specification (Спецификация требований к ПО)                                |
| Датчик (трекер)                 | Устройство на автомобиле, фиксирующее координаты и скорость                                       |
| Телеметрические данные          | Последовательность измерений скорости и GPS-координат                                             |
| Плановый маршрут                | Маршрут, выданный водителю до начала выполнения заказа                                            |
| Фактический маршрут             | Реальный маршрут движения автомобиля по данным GPS                                                |
| Превышение скорости             | Движение автомобиля со скоростью, превышающей ограничение на участке дороги                       |
| Цифровая карта                  | Электронная карта с разметкой максимальных скоростей по дорожным сегментам                        |
| Отрезок измерения               | Период 20 секунд, в течение которого фиксируются скорость и координаты                            |
| Агрегированный пакет            | Данные, отправляемые на сервер один раз в час                                                     |
| Пользователь                    | Сотрудник транспортной компании, использующий систему мониторинга                                 |
| Грузовое такси                  | Услуга разовой перевозки груза по заказу физического лица, оформляемая через мобильное приложение |
| Клиент                          | Физическое лицо, оформляющее заказ на грузовое такси через клиентское мобильное приложение        |
| ETA (Estimated Time of Arrival) | Прогнозное время прибытия автомобиля к указанной точке (подача или место выгрузки)                |

## Ссылки

| Обозначение | Расшифровка       |
| ----------- | ----------------- |
| [IEEE-830]  | IEEE Std 830-1998 |

## Краткий обзор

Документ структурирован в соответствии с рекомендациями стандарта IEEE Std 830-1998 и включает следующие части:

-   **Раздел 1. Введение** — Общее описание цели документа, области применения и ключевых терминов.
-   **Раздел 2. Общее описание** — Обзор целевой системы, её пользователей, функций и ограничений.
-   **Раздел 3. Детальные требования** — Формализованное описание функциональных и нефункциональных требований, сценариев использования и критериев приемки.
-   **Раздел 4. Индекс** — Алфавитный перечень основных терминов, применяемых в документе.

---

# 2. Общее описание

## Описание изделия

Система мониторинга эффективности городских грузоперевозок представляет собой программно-аналитический комплекс, предназначенный для сбора, обработки и визуализации телеметрических данных, получаемых с транспортных средств. Система обеспечивает централизованное хранение данных о скорости, координатах и маршрутах движения автомобилей, автоматический анализ скорости движения по отношению к установленным дорожным ограничениям, а также сопоставление фактического маршрута с плановым. Основная задача системы — повышение прозрачности работы водительского состава и оперативная оценка соблюдения установленных регламентов движения.

Взаимодействие с бортовым оборудованием осуществляется посредством приема агрегированных телеметрических пакетов, формируемых каждые 60 минут. Система использует цифровую карту дорожной сети города, содержащую нормативные ограничения скорости для каждого сегмента дороги. Результаты анализа предоставляются пользователю в виде картографической визуализации, отчетов и аналитических сводок.

Дополнительно система включает подсистему грузового такси для физических лиц. Данная подсистема обеспечивает:

- приём заказов на грузовое такси через мобильное приложение клиента;
- хранение и обработку информации о текущем местоположении автомобилей в режиме, близком к реальному времени;
- выбор оптимального автомобиля для заказа на основе его географической близости, статуса и технических характеристик;
- расчёт и постоянное обновление прогнозного времени прибытия автомобиля (ETA) по маршруту к клиенту и от клиента до точки выгрузки;
- предоставление клиенту визуальной информации о движении назначенного автомобиля на карте в мобильном приложении.

### Интерфейсы системы

-   REST API для приема телеметрических данных от бортовых устройств.
-   API или внутренний модуль для работы с цифровой картой дорожных ограничений.
-   Модуль визуализации маршрутов и событий на карте (web-интерфейс).
-   Интерфейс для формирования и выгрузки отчетов в различных форматах (PDF, XLSX).
- Мобильное приложение клиента грузового такси (iOS/Android), предназначенное для оформления заказов, отслеживания текущего местоположения автомобиля и просмотра прогнозного времени прибытия.

### Интерфейсы пользователя

-   Веб-интерфейс с доступом по ролям (руководитель, аналитик, диспетчер).
-   Диаграммное и картографическое отображение маршрутов.
-   Интерфейс выбора автомобиля, даты, заказа и уровня детализации анализа.
-   Визуализация участков превышения скорости и отклонений от маршрута.

### Интерфейсы аппаратных средств ЭВМ

-   Серверная инфраструктура для обработки телеметрических данных.
-   Хранилище данных (SQL/NoSQL) для сохранения телеметрии, картографической информации и результатов анализа.
-   Геоинформационная библиотека или модуль работы с картами.
-   Мобильные устройства клиентов.

### Интерфейсы программного обеспечения

-   Взаимодействие с картографическим ПО или внешним геосервисом.
-   Возможная интеграция с корпоративными системами контроля транспорта.
-   Взаимодействие с библиотеками геоаналитики (например, для расчета треков и маршрутов).
-   Внутренние сервисы обработки телеметрических пакетов.


### Интерфейсы коммуникаций

-   Передача данных с бортовых устройств по защищенному HTTP(S) или MQTT-протоколу.
-   Внутренний обмен между микросервисами или модулями по API.
-   Возможно, использование очередей сообщений (RabbitMQ, Kafka) для обработки телеметрии.

### Ограничения памяти

-   Ограничения определяются объемом телеметрии: для каждого автомобиля — координаты и скорость каждые 20 секунд, суммарно до ~180 данных точек в час.
-   Требуется хранение как минимум годовой истории данных (точный срок уточняется).
-   Размер цифровой карты зависит от ее уровня детализации.

### Действия

-   Прием и запись агрегированного телеметрического пакета.
-   Обработка маршрута и привязка точек к сегментам дороги.
-   Определение превышений скорости.
-   Сопоставление фактического и планового маршрутов.
-   Генерация визуального трека и аналитического отчета.

## Функции изделия

-   Сбор данных: прием телеметрии от всех подключенных автомобилей.
-   Хранение данных: долговременное хранение координат, скоростей, сегментов превышений, маршрутов и справочной информации.
-   Аналитическая обработка:
    -   расчет средней скорости за выбранный период;
    -   определение участков превышения скорости на основании цифровой карты;
    -   анализ соответствия планового маршрута фактическому;
    -   формирование отклонений маршрутов в количественном и графическом виде.
-   Визуализация:
    -   отображение планового и фактического маршрутов на карте;
    -   выделение сегментов с нарушениями;
    -   предоставление интерактивных инструментов анализа.
-   Отчетность:
    -   формирование отчетов по автомобилям, водителям, заказам;
    -   выгрузка в распространенные форматы;
    -   предоставление сводной статистики по периоду.
-   Функции подсистемы грузового такси:
    -   приём и регистрация заказов от клиентов-физических лиц через мобильное приложение;
    -   поиск и назначение ближайшего свободного автомобиля, удовлетворяющего параметрам заказа (тип кузова, грузоподъёмность и т.п.);
    -   высокочастотный (не реже одного раза в минуту) приём телеметрических данных от автомобилей, участвующих в заказах грузового такси;
    -   расчёт и регулярное обновление ETA как для прибытия к клиенту, так и для доставки груза;
    -   отображение статуса заказа и движения автомобиля клиенту в мобильном приложении в режиме, близком к реальному времени.

## Характеристики пользователей

-   **Руководитель транспортного отдела**  
    Использует систему для анализа эффективности работы водителей, мониторинга нарушений, принятия управленческих решений.
-   **Диспетчер / оператор мониторинга**  
    Отслеживает текущее состояние автопарка, проверяет корректность выполнения маршрутов и соблюдение регламентов.
-   **Аналитик транспортной компании**  
    Формирует выборки данных, изучает тенденции нарушений, строит отчеты для оптимизации логистики.
-   **Администратор системы**  
    Управляет справочной информацией (карта, маршруты, автопарк), контролирует техническое состояние компонентов системы.
-   **Клиент грузового такси**   
    Физическое лицо, использующее мобильное приложение для оформления заказа на грузовое такси, отслеживания текущего положения автомобиля, просмотра прогнозного времени прибытия и управления своим заказом (подтверждение, отмена).




## Ограничения

-   Система обслуживает один конкретный город; межгородские маршруты не рассматриваются.
-   Частота получения данных фиксирована устройством и составляет одно измерение каждые 20 секунд.
- Для базового режима мониторинга грузоперевозок передача агрегированных данных на сервер осуществляется один раз в час и не может быть изменена без замены или обновления соответствующих бортовых устройств.
- Для подсистемы грузового такси передача телеметрических данных от автомобилей должна осуществляться с высокой частотой (не реже одного раза в минуту, при наличии технической возможности — чаще), что учитывается при выборе и конфигурации бортовых устройств.
-   Точность анализа маршрутов зависит от корректности цифровой карты и разметки скоростных ограничений.
-   Визуализация маршрутов и геообработка требуют актуальной картографической информации.

## Предположения и зависимости

-   Предполагается, что бортовые устройства корректно функционируют, не имеют значительных погрешностей GPS и передают данные своевременно.
-   Предполагается, что плановые маршруты создаются заранее и предоставляются в структурированном виде.
-   Предполагается, что клиенты грузового такси используют мобильные устройства с доступом в интернет (сотовая сеть или Wi-Fi) и поддержкой актуальных версий мобильного приложения.
-   Корректность работы подсистемы грузового такси зависит от стабильности каналов связи как с бортовыми устройствами автомобилей, так и с мобильными устройствами клиентов.
-   Система зависит от:
    -   стабильности канала связи с бортовыми устройствами;
    -   доступности цифровой карты и актуальности дорожных ограничений;
    -   функционирования серверной инфраструктуры хранения и обработки данных.
-   Корректность анализа превышений скорости напрямую зависит от точности определения геопозиции и привязки точек к дорожным сегментам.

---

# 3. Детальные требования

## Функциональные требования

Функциональные требования описывают _поведение системы_, распределённое по ролям пользователей и системным возможностям.

### Атрибуты функциональных требований

Каждое требование включает:

* **ID** – уникальный код
* **Наименование** – короткое описание
* **Важность** – M (обязательное), S (желательное), C (возможное)
* **Стабильность** – S (стабильное), M (модифицируемое), D (динамичное)
* **Описание** – подробное содержание требования

### Полная схема идентификаторов
| Префикс | Значение                   | Роль                             |
| ------- | -------------------------- | -------------------------------- |
| F-DP-   | Functional – Dispatcher    | Диспетчер / оператор мониторинга |
| F-MN-   | Functional – Manager       | Руководитель автопарка           |
| F-AN-   | Functional – Analyst       | Аналитик                         |
| F-AD-   | Functional – Administrator | Администратор                    |
| F-SY-   | Functional – System        | Системные функции                |
| F-CL-   | Functional – Client        | Клиент                           |
| UI-     | User Interface             | Интерфейс пользователя           |
| HI-     | Hardware Interface         | Аппаратные интерфейсы            |
| P-      | Performance                | Производительность               |
| QA-     | Quality Attributes         | Атрибуты качества                |
| OR-     | Other Requirements         | Прочие требования                |
### Требование для роли "Диспетчер"
| ID       | Наименование                            | Важность | Стабильность | Описание                                                                                          |
| -------- | --------------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------- |
| F-DP-001 | Просмотр списка автомобилей             | M        | S            | Диспетчер должен видеть перечень всех автомобилей, их состояние и дату последней передачи данных. |
| F-DP-002 | Выбор автомобиля для анализа            | M        | S            | Возможность выбрать автомобиль для отображения маршрута, событий, телеметрии.                     |
| F-DP-003 | Фильтрация по дате и заказу             | M        | S            | Фильтрация телеметрии по заданному дню или выбранному заказу.                                     |
| F-DP-004 | Отображение фактического маршрута       | M        | S            | Система визуализирует реальный маршрут автомобиля на карте, используя точки GPS.                  |
| F-DP-005 | Отображение планового маршрута          | M        | S            | Плановый маршрут загружается автоматически и показывается отдельным цветом.                       |
| F-DP-006 | Выделение сегментов превышений скорости | M        | S            | Участки дороги, где факт превышения зафиксирован, должны быть помечены красным.                   |
| F-DP-007 | Просмотр среднего скоростного профиля   | S        | M            | Отображение средних скоростей на выбранном промежутке времени.                                    |
| F-DP-008 | Отображение отклонений от маршрута      | M        | M            | Диспетчер должен видеть точки, где автомобиль отклонился от планового маршрута.                   |
| F-DP-009 | Просмотр телеметрии в виде таблицы      | S        | M            | Телеметрия (скорость, координаты, время) отображается таблицей.                                   |
| F-DP-010 | Уведомления о превышениях               | C        | D            | Система может уведомлять диспетчера о превышениях скорости в режиме реального времени.            |
### Требования для роли «Менеджер автопарка»
| ID       | Наименование                     | Важность | Стабильность | Описание                                                                                                |
| -------- | -------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------- |
| F-MN-001 | Просмотр статистики по водителям | M        | S            | Менеджер должен видеть KPI водителей: средняя скорость, количество превышений, отклонения от маршрутов. |
| F-MN-002 | Сравнение водителей              | S        | M            | Возможность сравнивать нескольких водителей по показателям эффективности.                               |
| F-MN-003 | Просмотр истории нарушений       | M        | S            | История превышений скорости за любой период.                                                            |
| F-MN-004 | Анализ выполнения заказов        | M        | S            | Информация по каждому заказу: время в пути, маршрут, отклонения.                                        |
| F-MN-005 | Генерация отчетов по водителям   | M        | S            | Экспорт отчётов по водителям в PDF/XLSX.                                                                |
| F-MN-006 | Анализ загрузки автопарка        | S        | M            | Система отображает сколько автомобилей работало в день, сколько простоев.                               |
| F-MN-007 | Управление плановыми маршрутами  | M        | M            | Добавление/редактирование плановых маршрутов.                                                           |
### Требования для роли «Аналитик»
| ID       | Наименование                       | Важность | Стабильность | Описание                                                                  |
| -------- | ---------------------------------- | -------- | ------------ | ------------------------------------------------------------------------- |
| F-AN-001 | Доступ к «сырым» данным телеметрии | M        | S            | Аналитик может выгружать телеметрию (скорость, координаты) в CSV/XLSX.    |
| F-AN-002 | Построение скоростных графиков     | S        | M            | Система строит графики зависимости скорости от времени.                   |
| F-AN-003 | Анализ корректности GPS            | S        | M            | Возможность видеть точки с аномальной координатой (скачки сигнала).       |
| F-AN-004 | Выявление зон риска                | C        | D            | Система выделяет места, где превышения происходят часто (тепловая карта). |
| F-AN-005 | Экспорт аналитических отчетов      | M        | S            | Выгрузка данных и графиков для внешней обработки.                         |
### Требования для роли «Администратор»
| ID       | Наименование                    | Важность | Стабильность | Описание                                                      |
| -------- | ------------------------------- | -------- | ------------ | ------------------------------------------------------------- |
| F-AD-001 | Управление пользователями       | M        | S            | Создание, редактирование, удаление учетных записей.           |
| F-AD-002 | Назначение ролей доступа        | M        | S            | Привязка пользователей к ролям системы.                       |
| F-AD-003 | Управление картой города        | M        | M            | Загрузка/обновление дорожной карты с ограничениями скорости.  |
| F-AD-004 | Просмотр системных логов        | M        | D            | Доступ к журналам ошибок и событий.                           |
| F-AD-005 | Настройка параметров телеметрии | S        | M            | Настройка форматов пакетов, таймаутов, проверок корректности. |
| F-AD-006 | Управление архивом телеметрии   | S        | M            | Настройка срока хранения данных.                              |
### Требования для роли «Клиент грузового такси»

| ID       | Наименование                                   | Важность | Стабильность | Описание                                                                                                  |
|----------|------------------------------------------------|----------|--------------|-----------------------------------------------------------------------------------------------------------|
| F-CL-001 | Оформление заказа на грузовое такси            | M        | S            | Клиент должен иметь возможность оформить заказ, указав адрес подачи, адрес доставки, время и параметры груза. |
| F-CL-002 | Просмотр статуса заказа                        | M        | S            | Клиент должен видеть текущий статус заказа: «поиск автомобиля», «машина назначена», «в пути к вам», «доставка выполняется», «завершён». |
| F-CL-003 | Отображение текущего положения назначенного автомобиля | M  | M            | В мобильном приложении клиента должна отображаться позиция автомобиля на карте в режиме, близком к реальному времени. |
| F-CL-004 | Отображение прогнозного времени прибытия (ETA) | M        | M            | Клиент должен видеть ETA прибытия автомобиля к месту подачи и ETA прибытия к месту выгрузки груза.        |
| F-CL-005 | Отмена заказа                                  | S        | M            | Клиент должен иметь возможность отменить заказ на определённой стадии его выполнения (до прибытия автомобиля). |

### Системные функциональные требования

| ID       | Наименование                                     | Важность | Стабильность | Описание                                                                                                                                          |
| -------- | ------------------------------------------------ | -------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| F-SY-001 | Приём агрегированных пакетов данных              | M        | S            | Система принимает телеметрию раз в час, содержащую точки каждые 20 секунд.                                                                        |
| F-SY-002 | Проверка целостности пакетов                     | M        | S            | Проверка формата, количества точек, временной последовательности.                                                                                 |
| F-SY-003 | Привязка точек к дорожным сегментам              | M        | M            | Определение, на каком участке дороги находится точка.                                                                                             |
| F-SY-004 | Выявление превышений скорости                    | M        | S            | Сравнение фактической скорости с ограничениями карты.                                                                                             |
| F-SY-005 | Формирование фактического маршрута               | M        | S            | Маршрут формируется по GPS-координатам.                                                                                                           |
| F-SY-006 | Сравнение планового и фактического маршрута      | M        | S            | Система указывает, где водитель отклонился.                                                                                                       |
| F-SY-007 | Расчёт средней скорости                          | M        | S            | Средняя скорость по заказу/дате/участку.                                                                                                          |
| F-SY-008 | Выявление остановок и простоев                   | S        | D            | Определение моментов с нулевой или близкой к нулю скорости.                                                                                       |
| F-SY-009 | Экспорт отчётов                                  | M        | S            | Экспорт в PDF и XLSX.                                                                                                                             |
| F-SY-010 | Генерация визуализаций                           | S        | M            | Автоматическое построение карт и графиков.                                                                                                        |
| F-SY-011 | Обработка высокочастотной телеметрии             | M        | M            | Система должна поддерживать приём телеметрии от автомобилей грузового такси с частотой не реже одного раза в минуту, при возможности — чаще. <br> |
| F-SY-012 | Выбор ближайшего автомобиля для заказа           | M        | M            | При поступлении заказа грузового такси система должна автоматически подбирать наиболее близкий по расстоянию и доступный по статусу автомобиль.   |
| F-SY-013 | Расчёт прогнозного времени прибытия (ETA)        | M        | M            | Система должна рассчитывать и регулярно обновлять ETA для движения автомобиля к клиенту и от клиента к месту доставки груза.                      |
| F-SY-014 | Передача обновлений местоположения и ETA клиенту | M        | M            | Система должна регулярно отправлять в мобильное приложение клиента актуальные данные о местоположении автомобиля и ETA.                           |
### Требования к интерфейсу пользователя (UI)

| ID     | Наименование                                    | Важность | Стабильность | Описание                                                                                                |
| ------ | ----------------------------------------------- | -------- | ------------ | ------------------------------------------------------------------------------------------------------- |
| UI-001 | Интерактивная карта                             | M        | S            | Возможность увеличивать, уменьшать и перемещать карту.                                                  |
| UI-002 | Разделение маршрутов цветами                    | M        | S            | Плановый (например, зелёный) и фактический (синий) должны различаться.                                  |
| UI-003 | Подсветка нарушений                             | M        | S            | Участки превышений — красным, отклонения — жёлтым.                                                      |
| UI-004 | Панель фильтров                                 | M        | S            | Фильтрация по авто, водителю, дате, заказу.                                                             |
| UI-005 | Просмотр таблиц телеметрии                      | S        | M            | Отображение скоростей и координат таблицей.                                                             |
| UI-006 | Графики скорости                                | S        | M            | Визуальное отображение профиля скорости.                                                                |
| UI-007 | Карта в мобильном приложении клиента            | M        | M            | Мобильное приложение клиента должно отображать карту с текущим положением назначенного автомобиля.      |
| UI-008 | Отображение ETA в интерфейсе клиента            | M        | M            | На экране заказа должно отображаться прогнозное время прибытия автомобиля к клиенту и к месту выгрузки. |
| UI-009 | Периодическое обновление данных в клиентском UI | S        | M            | Данные о положении автомобиля и ETA должны обновляться не реже одного раза в 15 секунд.                 |
### Требования к аппаратным интерфейсам (HI)

| ID     | Наименование                                | Важность | Стабильность | Описание                                                  |
| ------ | ------------------------------------------- | -------- | ------------ | --------------------------------------------------------- |
| HI-001 | Поддержка GPS/ГЛОНАСС                       | M        | S            | Все устройства должны поддерживать спутниковую навигацию. |
| HI-002 | Передача данных по HTTPS                    | M        | S            | Пакеты телеметрии отправляются по защищенному протоколу.  |
| HI-003 | Минимальная частота измерений               | M        | S            | 1 измерение каждые 20 секунд.                             |
| HI-004 | Передача агрегированного пакета             | M        | S            | 1 пакет в час.                                            |
| HI-005 | Поддержка оперативной памяти сервера ≥ 8 ГБ | S        | S            | Минимальная конфигурация сервера.                         |
### Требования к производительности

| ID    | Наименование                                    | Важность | Стабильность | Описание                                                                                                                                  |
| ----- | ----------------------------------------------- | -------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------- |
| P-001 | Обработка пакета телеметрии ≤ 5 сек             | M        | S            | Включая анализ маршрутов и превышений.                                                                                                    |
| P-002 | Время отклика карты ≤ 2 сек                     | M        | S            | Панорама карты должна обновляться быстро.                                                                                                 |
| P-003 | Поддержка одновременной работы 20 пользователей | S        | S            | Система рассчитана на небольшой автопарк.                                                                                                 |
| P-004 | Загрузка маршрута ≤ 3 сек                       | S        | S            | Отображение фактического маршрута.                                                                                                        |
| P-005 | Генерация отчёта ≤ 30 сек                       | S        | S            | Для стандартного отчёта.                                                                                                                  |
| P-006 | Максимальная задержка обновления позиции        | M        | M            | Разница между реальным положением автомобиля и отображаемым на карте у клиента не должна превышать 10 секунд при нормальном канале связи. |
| P-007 | Масштабируемость подсистемы грузового такси     | S        | M            | Система должна поддерживать одновременное сопровождение не менее 100 активных заказов грузового такси.                                    |
### Атрибуты качества (QA)

| ID     | Наименование                       | Важность | Стабильность | Описание                                            |
| ------ | ---------------------------------- | -------- | ------------ | --------------------------------------------------- |
| QA-001 | Доступность ≥ 99%                  | M        | S            | Система должна быть доступна в рабочее время.       |
| QA-002 | Хранение логов 90 дней             | M        | S            | Логи событий и ошибок сохраняются минимум 3 месяца. |
| QA-003 | Корректность обработки данных      | M        | S            | Точность определения превышений ≥ 99%.              |
| QA-004 | Восстановление после сбоя ≤ 1 часа | S        | M            | Быстрое восстановление работы без потерь данных.    |
### Ограничения проекта

| ID    | Наименование                    | Описание                                          |
| ----- | ------------------------------- | ------------------------------------------------- |
| C-001 | Один город                      | Система работает в пределах одного города.        |
| C-002 | Фиксированная частота измерений | Измерения каждые 20 секунд, изменить нельзя.      |
| C-003 | Передача раз в час              | Формат датчиков фиксирован.                       |
| C-004 | Зависимость от цифровой карты   | Точность анализа зависит от карты ограничений.    |
| C-005 | Локальная инфраструктура        | Сервер разворачивается в инфраструктуре компании. |
# **Требования к надёжности**

### **Показатели надёжности**

**Наличие (Availability):**  ≥ **99%** в рабочее время (по требованию QA-001)
**Безотказность (MTBF):**  Среднее время наработки на отказ ≥ **720 часов** (30 дней)
**Восстанавливаемость (MTTR):**  Время восстановления после сбоя ≤ **1 часа**
### **Точность операций**

- **Привязка GPS-точек к дорожным сегментам:** ≥ **99.5%**  (зависит от F-SY-003)
- **Определение превышения скорости:** ≥ **99.8%**  (зависит от F-SY-004)
- **Расчёт средней скорости:** полностью корректный при валидных данных  (F-SY-007)
- **Определение отклонений от маршрута:** ≥ **98%** точности  (F-SY-006)
- **Точность прогнозирования ETA:** не менее 80% заказов должны иметь фактическое время прибытия, отличающееся от расчётного не более чем на 5 минут при отсутствии аномальных дорожных условий (ДТП, перекрытия и т.п.).

### **Максимальное количество ошибок**

* **Критические ошибки:** ≤ 1 в месяц
* **Ошибки расчёта телеметрии:** ≤ 3 в месяц
* **Ошибки интерфейса:** ≤ 10 в неделю

### **Механизмы обеспечения надёжности**

* **Резервирование данных:** ежечасное инкрементное, ежедневное полное резервное копирование (основано на F-AD-006)
- **Мониторинг ключевых метрик:** каждые 30 секунд загрузка процессора, очередь обработки пакетов, доступность карты (F-AD-005)
- **Автоматическое оповещение:** если доступность падает ниже **99%**, система уведомляет администратора

---

# **Требования к безопасности**

### **Базовые требования**

- Все пароли хранятся в **хешированном** виде (bcrypt/SHA-256).
- Трафик между автомобилями, сервером и клиентами обязательно шифруется (TLS 1.2+).
- Доступ к API осуществляется по ролевой модели (F-AD-002).
- Все операции пользователей должны проверяться по токенам и правам.

### **Дополнительные меры безопасности**

#### **1. Защита данных**

- **Шифрование хранимых данных телеметрии:** AES-256
- **Маскирование данных в логах:** координаты обрезаются до 3 знаков, если это не аналитика
- **Анонимизация данных при экспорте:** скрываются ФИО водителей

#### **2. Контроль доступа**

- **2FA** для администратора и менеджера автопарка
- Автоматическое завершение пользовательской сессии через **8 часов**
- Политика паролей:
    - ≥ 10 символов
    - буквы, цифры, спецсимволы

#### **3. Аудит и соответствие**

- Логирование всех критических операций:
    - удаление маршрутов
    - изменения карт скорости
    - изменения прав пользователей
- **Отчёты безопасности:** еженедельно
- Доступ к системе должен соответствовать **ФЗ-152** (обработка данных сотрудников и водителей)

---

# **Требования к пользовательской документации**

### **Базовые требования:**

Система должна иметь следующую документацию:
- **Руководство диспетчера:** как просматривать маршруты, превышения, данные по заказам
- **Руководство менеджера автопарка:** аналитика, KPI, отчёты
- **Руководство аналитика:** выгрузка данных, работа с графиками
- **Руководство администратора:** настройка карт, управление пользователями, резервное копирование
- **API документация:** формат телеметрических пакетов, REST-эндпоинты

### **Расширенные требования:**

#### **Структура:**

**Руководство пользователя:**
- Пошаговые инструкции для каждой роли
- Примеры реальных маршрутов
- Скриншоты
- Видео-инструкции (опционально)

**Руководство администратора:**
- Настройка сервера
- Настройка картографического модуля
- Процедуры резервного копирования
- Типовые ошибки и их устранение

**Техническая документация:**
- Архитектура системы
- Описание API
- ER-диаграмма БД
- Протоколы обмена с бортовыми устройствами

### **Требования к качеству документации**

- **Актуализация:** в течение 5 рабочих дней после обновления системы
- **Доступность:** PDF + онлайн-версия
- **Поиск:** полнотекстовый
- **Языки:** русский, английский

---

# **Применимые стандарты**

### **Стандарты разработки и безопасности**

- **IEEE 830-1998** — описание требований
- **RFC 2818** — HTTPS
- **TLS 1.2/1.3** — шифрование
- **ISO 27001** — требования к ИБ
- **ISO 19133** — GPS-маршрутизация
- **ISO 14825** — цифровые дорожные карты

### **Регуляторные требования**

- **ФЗ-152** — персональные данные
- **ГОСТ 31985** — GPS/ГЛОНАСС устройства
- **Требования ГИТ** — эксплуатация оборудования в транспорте

---

# **Дополнительные ограничения**

### **Регулирующая политика**

- Соблюдение ФЗ-152 при обработке данных водителей
- Соблюдение правил безопасности дорожного движения при работе с картами
- Ограничения на хранение данных телеметрии (не менее 1 года)

---

# **Ограничения аппаратных средств**

### **Требования к серверной инфраструктуре**

- Время обработки пакета телеметрии ≤ **5 сек**
- Время ответа картографического сервиса ≤ **1 сек**
- Поддержка ≥ **8 ГБ ОЗУ**, ≥ **4 CPU**

### **Требования к бортовым устройствам**

- Частота измерений: **20 секунд**
- Передача данных: **1 раз в час**
- Точность GPS: ≤ **5 метров**
- Рабочий диапазон температур: **от −20°C до +50°C**

---

# **Интерфейсы с другими приложениями**

### **Форматы обмена**

- JSON / XML для интеграций
- REST API
- Поддержка WebHook-уведомлений о превышениях скорости

### **Интеграции:**

- ERP/CRM для загрузки плановых маршрутов
- Аналитические системы (Power BI, Tableau)
- Импорт картографических данных (GeoJSON, Shapefile)

---

# **Параллельная работа**

### **Блокировки ресурсов**

- Оптимистичные блокировки при просмотре аналитики
- Пессимистичные — при изменении карт или плановых маршрутов

### **Разрешение конфликтов**

- Приоритет: обновление карт → расчёт маршрутов → визуализация
- Уведомление администратора при конфликтных операциях

---

# **Функции протоколирования**

### **Уровни логирования**

- TRACE — расчёт траекторий GPS
- DEBUG — отладка телеметрии
- INFO — получение пакета данных
- WARN — неполные пакеты
- ERROR — ошибки анализа
- FATAL — падение сервиса

### **Аудит безопасности**

- Логирование всех попыток входа
- Логирование всех изменений маршрутов
- Логирование всех изменений ролей пользователей

---

# **Функции управления**

- Централизованная конфигурация сервера
- Мониторинг производительности в реальном времени
- Управление обновлениями системы
- Управление версиями карт
- Настройка расписания резервного копирования

---

# **Требования к технологиям и языкам**

### **Предпочтительный стек**

- Backend: **Java / Kotlin / Python**
- Frontend: **TypeScript + React/Vue**
- База данных: **PostgreSQL / TimescaleDB**
- Геоаналитика: **PostGIS, Mapbox, Leaflet, OpenLayers**

### **Кодовые требования**

- Покрытие unit-тестами ≥ **70%**
- Статический анализ (SonarQube)
- Кодирование по best practices

---

# **Протоколы синхронизации телеметрии**

- HTTPS + TLS 1.2+
- Повторная отправка при сетевых сбоях
- Таймауты соединения ≤ **10 сек**
- Подтверждение доставки сервера

---

# **Соображения безопасности и секретности**

- Обязательная аутентификация по логину и паролю
- Хеширование хранимых паролей
- Ролевая модель доступа
- Возможность изолированной работы в закрытой сети
- Регулярные обновления ПО

---

# Индекс

[Индекс.]
